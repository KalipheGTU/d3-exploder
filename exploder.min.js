(function(n){function o(){var o=["size","position","projection"],t=n.geo.path();function r(n){o.forEach(function(n){if(!e[n]){throw"exploder.js: "+n+" not provided to exploder."}});var r=e.projection,i=e.size,c=e.position,a=r.scale(),s={};t.projection(r);n.attr("d",function(n,o){var e=i(n,o);var c=t.projection(r.scale(a)).bounds(n),u=c[1][0]-c[0][0],f=c[1][1]-c[0][1],p=s[o]=Math.min(e/f,e/u);t.projection(r.scale(a*p));return t(n)}).attr("transform",function(n,o){t.projection(r.scale(a*s[o]));var e=t.centroid(n),i=c(n,o);return"translate("+[i[0]-e[0],i[1]-e[1]]+")"});r.scale(a)}var e={};o.forEach(function(n){e[n]=null;r[n]=function(o){if(!arguments.length)return e[n];if(!(o instanceof Function)){throw"exploder.js: "+n+" needs to be a function."}e[n]=o;return r}});return r}o.version="1.0.4";n.geo.exploder=o})(d3);